<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SAVAGE-XMD Session Scanner</title>
</head>
<body style="font-family:sans-serif;text-align:center;padding:20px">
  <h1>ğŸ“¡ SAVAGE-XMD SCANNER</h1>
  <p>Enter your phone number to generate a new session.</p>
  <form id="sessionForm">
    <input id="phoneInput" type="text" placeholder="e.g. 255765457691" required />
    <button type="submit">Start Session</button>
  </form>
  <div id="status" style="margin-top:20px;"></div>

  <script>
    const form = document.getElementById('sessionForm');
    const statusDiv = document.getElementById('status');

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const number = document.getElementById('phoneInput').value;
      if (!number) return;

      statusDiv.innerHTML = `ğŸ”„ Pairing session for <b>${number}</b>...<br/>Open your WhatsApp and pair with code.`;

      // ğŸ‘‡ Optional: integrate pairing initiation if needed
      // fetch('/start-session', { method: 'POST', body: JSON.stringify({ number }) })

      // ğŸ‘‡ Display session fetch URL for testing
      const url = `${window.location.origin}/sessions/${number}.json`;
      statusDiv.innerHTML += `<br/><br/>ğŸŒ Session will be available at:<br/><code>${url}</code>`;
    });
  </script>
</body>
</html>
